local TweenService = game:GetService("TweenService")
local player = game.Players.LocalPlayer
local mouse = player:GetMouse()

local BlustLib = {}

function BlustLib:CreateWindow(options)
    local windowFrame = Instance.new("Frame")
    windowFrame.Size = options.Size or UDim2.new(0, 600, 0, 400)
    windowFrame.Position = options.Position or UDim2.new(0.5, -300, 0.5, -200)
    windowFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    windowFrame.BackgroundTransparency = 0.1
    windowFrame.Parent = game.CoreGui

    local titleLabel = Instance.new("TextLabel")
    titleLabel.Size = UDim2.new(1, 0, 0, 30)
    titleLabel.Position = UDim2.new(0, 0, 0, 0)
    titleLabel.Text = options.Title or "Window Title"
    titleLabel.BackgroundTransparency = 1
    titleLabel.TextSize = 20
    titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    titleLabel.Parent = windowFrame

    local closeButton = Instance.new("TextButton")
    closeButton.Size = UDim2.new(0, 50, 0, 30)
    closeButton.Position = UDim2.new(1, -55, 0, 5)
    closeButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
    closeButton.Text = "X"
    closeButton.TextSize = 18
    closeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    closeButton.Parent = windowFrame
    closeButton.MouseButton1Click:Connect(function()
        windowFrame:Destroy()
    end)

    local minimizeButton = Instance.new("TextButton")
    minimizeButton.Size = UDim2.new(0, 50, 0, 30)
    minimizeButton.Position = UDim2.new(1, -110, 0, 5)
    minimizeButton.BackgroundColor3 = Color3.fromRGB(0, 255, 0)
    minimizeButton.Text = "-"
    minimizeButton.TextSize = 18
    minimizeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    minimizeButton.Parent = windowFrame
    minimizeButton.MouseButton1Click:Connect(function()
        windowFrame.Visible = not windowFrame.Visible
    end)

    local dragging = false
    local dragInput, mousePos, framePos

    titleLabel.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            mousePos = input.Position
            framePos = windowFrame.Position
        end
    end)

    titleLabel.InputChanged:Connect(function(input)
        if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
            local delta = input.Position - mousePos
            windowFrame.Position = UDim2.new(framePos.X.Scale, framePos.X.Offset + delta.X, framePos.Y.Scale, framePos.Y.Offset + delta.Y)
        end
    end)

    titleLabel.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = false
        end
    end)
    return windowFrame
end

local function createIntro()
    local introFrame = Instance.new("Frame")
    introFrame.Size = UDim2.new(1, 0, 1, 0)
    introFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    introFrame.Position = UDim2.new(0, 0, 0, 0)
    introFrame.Parent = game.CoreGui

    local introLabel = Instance.new("TextLabel")
    introLabel.Size = UDim2.new(1, 0, 1, 0)
    introLabel.Text = "Loading..."
    introLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    introLabel.TextSize = 30
    introLabel.BackgroundTransparency = 1
    introLabel.Parent = introFrame

    local introTween = TweenService:Create(introFrame, TweenInfo.new(2, Enum.EasingStyle.Quint, Enum.EasingDirection.Out), {Size = UDim2.new(0, 0, 0, 0)})
    introTween:Play()

    introTween.Completed:Connect(function()
        introFrame:Destroy()
    end)
end

local function loadUI()
    createIntro()

    wait(2)

    local Window = BlustLib:CreateWindow({
        Name = "Executor UI",
        Title = "Main Window",
        Size = UDim2.new(0, 600, 0, 400),
        Position = UDim2.new(0.5, -300, 0.5, -200)
    })
end

loadUI()
